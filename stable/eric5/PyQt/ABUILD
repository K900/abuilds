# ABUILD generated by mkpkg_generator.sh
pkgname=python3-pyqt
pkgver=4.8.5
pkgbuild=1
arch=("auto")

shortdesc=("PyQt (Python bindings for Qt)")

tags=("dev-python libs")

source=("http://riverbankcomputing.co.uk/static/Downloads/PyQt4/PyQt-x11-gpl-${pkgver}.tar.gz")
removedep="phonon"
adddep="PyQt python-three"

build() {
	go_src_dir
	python3 configure.py \
		--confirm-license \
		-v /usr/share/sip \
		--qsci-api

	make -j${numjobs}

	# INSTALL_ROOT is needed for the QtDesigner module, the other Makefiles use DESTDIR  
	make DESTDIR="${pkgdir}" INSTALL_ROOT="${pkgdir}" install

	# These go to python2 ver
	rm ${pkgdir}/usr/bin/{pylupdate4,pyrcc4,pyuic4}
	rm ${pkgdir}/usr/lib$LIBDIRSUFFIX/qt/plugins/designer/libpythonplugin.so
	rm ${pkgdir}/usr/share/qt/qsci/api/python/PyQt4.api
}
